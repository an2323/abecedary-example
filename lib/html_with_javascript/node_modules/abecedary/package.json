{
  "name": "abecedary",
  "version": "0.0.1",
  "description": "Crossdomain JavaScript test runner for Mocha.",
  "author": {
    "name": "Adam Fortuna"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/codeschool/abecedary.git"
  },
  "main": "index.js",
  "license": "AAL",
  "dependencies": {
    "stuff.js": "https://github.com/adamfortuna/stuff.js/tarball/master"
  },
  "devDependencies": {
    "mocha": "~1.17.0"
  },
  "readme": "_This project is still being developed, so some of the following won't work until we actually implement it. This warning will be removed once the project is safe to actually use._\n\n# abecedary\n\nabecedary is a client side JavaScript executor API that allows for non-opinionated testing within the sandbox. The test should decide how to interpret the input, which is up to the client to provide.\n\n> abecedary\n> n.  1.  A primer; the first principle or rudiment of anything.\n\nTo see an example project using abecedary, check out [abecedary-example](https://github.com/codeschool/abecedary-example).\n\n## Example\n\nabecedary uses [Mocha](https://github.com/visionmedia/mocha) for running all tests, with the ability to extend it with any CommonJS style modules.\n\n```javascript\nvar iframeTemplate = [\n  '<!DOCTYPE html>',\n  '<html>',\n  '  <head>',\n  '    <title>Abecedary Tests</title>',\n  '  </head>',\n  '  <body>',\n  '    <script src=\"/dependencies.js\"></script>',\n  '  </body>',\n  '</html>'\n].join('\\n');\nvar sandbox = new Abcedary('http://somewhere.amazon.s3.com/iframe.html', iframeTemplate);\n\nsandbox.on('complete', function(results) {\n  console.log('Run Complete!');\n  console.log(results);\n});\n\nvar code = [\n  'function add(first, second) {',\n  '  return first + second;',\n  '}'\n].join('\\n');\n\nvar tests = [\nvar assert = require('chai').assert;\nvar Sandbox = require('javascript-sandbox');\n\ndescribe('add', function() {\n  before(function() {\n    var sandbox = new Sandbox(code);\n  });\n  it('Be sure to define a function named `add`.', function() {\n    assert(sandbox.run(function() {\n      return typeof(add) === 'function';\n    });\n  });\n  it('Your `add` function should take in two arguments.', function() {\n    assert(sandbox.run(function() {\n      return add.length == 2;\n    });\n  });\n  it('`add` should return the result of adding the two arguments.', function() {\n    assert(sandbox.run(function() {\n      return (add(4, 8) == 12) && (add(1, 2) == 3)\n    });\n  });\n});\n].join('\\n');\n\nsandbox.run(editor, tests)\n```\n\nThis example sets up a [stuff.js](https://github.com/Codecademy/stuff.js) iFrame on S3, with a given template as the sub-iFrame. This sub-iFrame is where the Mocha tests are run. The actual Mocha tests should not evaluate JavaScript, but rather defer that to another iFrame in order to prevent contamination of other tests. This page includes the `dependencies.js` file which then contains a number of things:\n\n* [Mocha](https://github.com/visionmedia/mocha)\n* A custom Mocha reporter to get feedback.\n* [Chai](https://github.com/chaijs/chai)\n* Another NPM module, `javascript-sandbox` used for running JavaScript quietly (no `alerts`, preventing infinite loops).\n\nThis file can be packaged up to include whatever you need for testing the given code. Mocha and the custom reporter are the only required dependencies -- anything else is up to you to use.\n\n## Installation\n\nThis library is designed to be used in combination with other CommonJS style libraries, but a packaged version is also available. Here are the potential ways to use this library:\n\nGrab the packaged file from `./dist/abecedary.js`. This includes all dependencies and should be used if you just want to set it up on a page without worrying about CommonJS.\n\nYou can use it with [Component](https://github.com/component/component).\n\n```\n$ component install codeschool/abecedary\n```\n\nOr with npm:\n\n```\n$ npm install codeschool/abecedary\n```\n\nYou'll also need to copy the `dist/iframe.html` file to be available -- preferably on a different domain than your application.\n\n## Building\n\nThis is a work in progress. You can use the grunt task to build out a distribution file to use per project.\n\n## API\n\n### new Abecedary(iframeUrl, iframeContent)\n\nWill create a new [stuff.js](https://github.com/Codecademy/stuff.js) iFrame at the given URL with the given content. This content should include a compiled version of all requirements (Mocha, custom runner and any dependencies for your application).\n\nThis will attempt to create a new iFrame right away to be used when run.\n\n## Abecedary#run(code, tests)\n\nWill run the given tests passing in the code. Code can be a string, a hash or array. This allows you to pass in arbitrary code to use in your tests if you need to. For example, you might want something like:\n\n```\n{\n  setup: 'var message = \"Hello, World\"',\n  code: 'console.log(message)'\n}\n```\n\nWhere the user might have just entered the code `console.log(message)`, but you also want the code in `setup` to be available in the tests.\n\n## Abecedary#on('complete', callback)\n\nWill run the `callback` function after running tests.\n\n## Abecedary#close\n\nWill remove all [stuff.js](https://github.com/Codecademy/stuff.js) iFrames.\n\n\n# Building\n\nUntil split, the out the build step is somewhat confusing here due to the number of assets.\n\nThis will pull down and build `build/*.[js,css]` assets that are used outside of the iFrame for the demo application.\n\n```\n$ component install\n$ component build\n```\n\nTo build the JavaScript used within the iFrame (which contains mocha, sinon and a number of other testing libraries), you'll need to do a few more steps\n\n```\n$ npm install\n$ browserify -r sinon -r chai -r jquery-browserify -r esprima-jquery-map -o build/sandbox_vendor.js\n$ grunt\n```\n\nThis will pull down all external dependencies, build the `build/sandbox_vendor.js` file with all of these scripts able to be `require`'s at a high level, and then use `grunt` to concatenate this file with mocha and the mocha custom reporter.\n\n# Running\n\nInstall the `serve` gem, and run serve to serve this directory on port 4000.\n\n```\n$ gem install serve\n$ serve\n```\n\nOpen up [http://localhost:4000](http://localhost:4000) and you should see 2 CodeMirror panes up and running!",
  "readmeFilename": "readme.md",
  "bugs": {
    "url": "https://github.com/codeschool/abecedary/issues"
  },
  "homepage": "https://github.com/codeschool/abecedary",
  "_id": "abecedary@0.0.1",
  "dist": {
    "shasum": "bebf61e4767ec1efdfcca86b6961af87ad2b4eb0"
  },
  "_from": "https://github.com/codeschool/abecedary/tarball/master",
  "_resolved": "https://github.com/codeschool/abecedary/tarball/master"
}
