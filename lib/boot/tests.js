module.exports = 'var assert = require(\'chai\').assert,\n    estraparse = require(\'esprima-jquery-map\'),\n    sinon = require(\'sinon\');\n\ndescribe(\'problem\', function() {\n  before(function(){\n    this.tree = estraparse(code);\n  });\n\n  it("Within your `for` loop, you need to add an `if` statement.", function() {\n    assert(this.tree.find(\'forstatement ifstatement\').length > 0);  \n  });\n  it("Within the `if` statement, you\'ll need to halve the number of sheep and log the message \'Removing <number> sheep from the population. Phew!\' to the console.", function() {\n    var logInFor = this.tree.find("forstatement ifstatement identifier[name=\'console\']+identifier[name=\'log\']").length > 0;\n    assert(logInFor);\n  });\n\n  describe(\'with logging\', function() {\n    before(function() {\n      sinon.spy(console, "log");\n      eval(window.code);\n    });\n    after(function() {\n      console.log.restore();\n    });\n    it("You are calling `console.log` too few times. This probably means the condition on your `if` statement is incorrect. Make sure it tests that `numSheep` is greater than 10000.", function() {\n      if(console.log.callCount < 18) { assert(false); }\n    });\n  });\n});';